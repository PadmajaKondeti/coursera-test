if (self.CavalryLogger) { CavalryLogger.start_js(["izRAThI"]); }

__d("MReactionUnitViewportTracking",["DOM","MLegacyDataStore","MViewportTracking","MarauderLogger","Stratcom","ge"],(function(a,b,c,d,e,f,g){"use strict";var h="reaction-unit-logging",i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.onUnload=function(){c.startRecordingTimeTrackingData()},a)||babelHelpers.assertThisInitialized(c)}var e=a.prototype;e.getDataFromConfig=function(a){var b=this;this.$MReactionUnitViewportTracking1=[c("Stratcom").listen("m:jewel:flyout:open",null,function(a){a.getData().jewel==="notifications"&&b.startRecordingTimeTrackingData()}),c("Stratcom").listen("m:jewel:flyout:close",null,function(a){a.getData().jewel==="notifications"&&b.stopRecordingTimeTrackingData()}),c("Stratcom").listen("unload",null,function(){b.stopRecordingTimeTrackingData()})];this.isTimeTrackingEnabled=!0};e.getAllStories=function(){var a=c("ge")("notifications_flyout");return!a?[]:d("DOM").scry(a,"div",h)};e.getTimeout=function(){return 1};e.getDataToLog=function(a){return d("MLegacyDataStore").get(a).logging_data};e.getMinSizeToBeVisible=function(a){return 0};e.getStoryID=function(a){return a.id};e.getTimetrackingDataToLog=function(a){var b={};Object.assign(b,d("MLegacyDataStore").get(a.story).logging_data);b.unit_type=b.interacted_story_type;delete b.interacted_story_type;b.first_appear_time=a.evp_ts/1e3;b.vpvd_time_delta=Math.round(a.vpvd);var c=this.getAllStories();b.unit_count=c.length;b.unit_position=c.indexOf(a.story);return b};e.sendDataToLog=function(a){if(!a.vpvd_time_delta)return;d("MarauderLogger").log("reaction_unit_impression","reaction_units",a)};return a}(c("MViewportTracking"));function a(a){new i().init(a)}g.init=a}),98);
__d("MReactionLogging",["MLegacyDataStore","MReactionUnitViewportTracking","MarauderLogger","Stratcom"],(function(a,b,c,d,e,f,g){var h="reaction_logging",i=[];function a(a){d("MReactionUnitViewportTracking").init(a);if(i.length)return;i=[c("Stratcom").listen("click",h,function(a){a=a.getNode(h);a instanceof HTMLElement&&j(a)}),c("Stratcom").listen("reaction-unit-expiration",null,function(a){d("MarauderLogger").log("reaction_unit_did_timeout","reaction_units",a.getData())})]}function j(a){a=d("MLegacyDataStore").get(a).logging_data;d("MarauderLogger").log("reaction_unit_interaction","guide_cards_null_state",a)}g.init=a}),98);
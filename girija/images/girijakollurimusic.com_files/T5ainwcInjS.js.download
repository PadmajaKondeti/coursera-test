if (self.CavalryLogger) { CavalryLogger.start_js(["95E3xyY"]); }

__d("MEventPermalink",["FW"],(function(a,b,c,d,e,f,g){function a(){window.FW_ENABLED&&c("FW").setNavBarButton("","1;","toolbarButton")}b={clearHeaderButton:a};g["default"]=b}),98);
__d("MPagesFinchFanChainingTrigger",["MRequest","NTAnnounceSubscription"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){d("NTAnnounceSubscription").subscribe(a,function(a){new(c("MRequest"))(e).send()})}g.addFanChainingUnitDisplayListener=a}),98);
__d("MReactionUnitExpirations",["MLocationPrompt","MRequest","Stratcom","ThisControllerNoLongerExists","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h={},i=[],j=1e3*60*10;function a(){if(i.length)return;i=[c("Stratcom").listen(c("MLocationPrompt").STRATCOM_UPDATE,null,function(a){l(a.getData().position.coords)})];c("setTimeoutAcrossTransitions")(k,j)}function b(a,b,d){h[a]={unit_type:d,expiration:b},b.radius&&c("MLocationPrompt").getCoords()&&m(a,c("MLocationPrompt").getCoords())}function k(){var a=Date.now()/1e3;for(var b in h)a>h[b].expiration.timestamp&&n(b);c("setTimeoutAcrossTransitions")(k,j)}function l(a){if(!a||a.latitude===void 0||a.longitude===void 0)return;for(var b in h)m(b,a)}function m(a,b){var c=h[a].expiration;c.radius&&o(c.latitude,c.longitude,b.latitude,b.longitude)>c.radius&&n(a)}function n(a){var b=d("ThisControllerNoLongerExists").__DEADBUILDER__("re0pnqd6s").setString("id",a),e=c("MLocationPrompt").getCoords();e&&b.setFloat("lat",e.latitude).setFloat("long",e.longitude);c("Stratcom").invoke("reaction-unit-expiration",null,{unit_type:h[a].unit_type});new(c("MRequest"))(b.getURI().toString()).send();delete h[a]}function o(a,b,c,d){var e=6371e3,f=p(c-a);d=p(d-b);b=Math.sin(f/2)*Math.sin(f/2)+Math.cos(p(a))*Math.cos(p(c))*Math.sin(d/2)*Math.sin(d/2);f=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));a=e*f;return a}function p(a){return a*(Math.PI/180)}g.init=a;g.updateUnitExpiration=b}),98);
__d("MOrientationResize",["DOM","MLegacyDataStore","MParent","Stratcom","Vector","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h;function a(a){var b="orientation-resizable",e="content-pane";if(h){f(a.id);return}h=!0;function f(a){a=document.getElementById(a);a&&p([{root:d("MParent").bySigil(a,e),elements:[a]}])}function g(a,b){var d=b.padding||0,e=b.aspectRatio||1,f=b.widthRatio||1;b=b.containerAspectRatio;a=a*f-d;if(!b)f=a,d=Math.floor(a/e);else{a=a;b=a/b;var g=a/b;e=e;e=e/g;e>1?(f=a,d=1/e*b):(f=e*a,d=b)}return new(c("Vector"))(f,d)}function i(a,b){var d=b.aspectRatio||1,e=b.columnCount||1,f=b.gridPadding||0;b=b.photoMargin||0;a=a-f-(e-1)*b;f=Math.floor(a/e);b=Math.ceil(f/d);return new(c("Vector"))(f,b)}function j(a,b){var d=b.aspectRatio||1,e=b.widthRatio||1;b=b.padding||0;a=a*e;e=a/d;return new(c("Vector"))(Math.round(a)-b,Math.floor(e)-b)}function k(a){a=a.getData();var c=d("DOM").scry(a,"*",b);c&&p([{root:d("MParent").bySigil(a,e),elements:c}])}var l,m;function n(){m++;var a=!1,f=d("DOM").scry(document,"*",e);if(f&&f.length){var g=[];for(var h=0;h<f.length;h++){var i=f[h],j=i.offsetWidth,k=d("MLegacyDataStore").get(i);k=k&&k.offsetWidth;j!==k&&(d("MLegacyDataStore").set(i,{offsetWidth:j}),a=!0,g.push({root:i,elements:d("DOM").scry(i,"*",b)}))}g.length&&p(g)}m<3&&(l=c("setTimeoutAcrossTransitions")(n,500));a&&c("Stratcom").invoke("m:orientation-resize:complete")}function o(){m=0,clearTimeout(l),n()}function p(a){var b=[];for(var c=0;c<a.length;c++){var e=a[c].root,f=a[c].elements;if(!e||!f)continue;e=e.offsetWidth;if(e===0)continue;for(var h=0;h<f.length;h++){var k=f[h],l=d("MLegacyDataStore").get(k),m=null,n;switch(l.mode){case"scale-photo-attachment":m=g(e,l);break;case"scale-photo-relative-item":m=j(e-l.outerPadding,l);break;case"scale-photo-grid-item":m=i(e,l);break;case"resize-to-unit":m=q(e,k,l);break;case"resize-feed-2-photos-attachment":n=t(e,k,l);b=b.concat(n);continue;case"resize-feed-3-photos-attachment":n=u(e,k,l);b=b.concat(n);continue;default:continue}b.push({node:k,width:m.x,height:m.y})}}b.forEach(function(a){if(!a||!a.node)return;a.node.style.width=a.width+"px";a.node.style.height=a.height+"px"})}function q(a,b,d){var e=d.padding||0,f=d.aspectRatio||1;d=d.widthRatio||1;b=r(b);b=b?c("Vector").getDim(b).x:a;a=b*d-e;b=Math.floor(a/f);return new(c("Vector"))(a,b)}function r(a){return d("MParent").bySigil(a,"orientation-resize-parent")}function s(a,b){b=b==="P"?4/3:3/4;return Math.floor(a*b)}function t(a,b,c){var e=c.orient;a=a-c.spacing;var f,g,h;if(e==="PL"||e==="LP"){c=Math.round(a*c.fraction);var i=a-c;h=s(c,"L");e==="PL"?(f=i,g=c):(f=c,g=i)}else f=Math.round(a/2),g=a-f,h=s(f,e[0]);c=d("DOM").scry(b,"*","photoleft")[0];i=d("DOM").scry(b,"*","photoright")[0];a=[];c&&a.push({node:c,width:f,height:h});i&&a.push({node:i,width:g,height:h});return a}function u(a,b,c){a=a-c.spacing;var e=Math.round(a*c.fraction);a=a-e;var f=s(e,c.orient),g=Math.floor(f/2)-c.margin;c=f-g-c.margin;return[{node:d("DOM").find(b,"*","mainphoto"),width:e,height:f},{node:d("DOM").find(b,"*","topphoto"),width:a,height:g},{node:d("DOM").find(b,"*","bottomphoto"),width:a,height:c}]}a.id&&f(a.id);c("Stratcom").listen(["m:viewport:orientation-change","m:page:render:complete","m:page:render:cache:complete","m:ajax:complete","m:plugin:resize"],null,o);c("Stratcom").listen(["m:timeline:unit:resize","m-timeline-two-column-layout:pre-section-balance"],null,k)}g.main=a}),98);
__d("PagesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setConnectionClass=function(a){this.$1.connection_class=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventLocation=function(a){this.$1.event_location=a;return this};c.setEventTarget=function(a){this.$1.event_target=a;return this};c.setLogSource=function(a){this.$1.log_source=a;return this};c.setNavAttributionIDV2Key=function(a){this.$1.nav_attribution_id_v2_key=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setRawClientTime=function(a){this.$1.raw_client_time=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setTags=function(a){this.$1.tags=b("GeneratedLoggerUtils").serializeVector(a);return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={connection_class:!0,event:!0,event_location:!0,event_target:!0,log_source:!0,nav_attribution_id_v2_key:!0,page_id:!0,raw_client_time:!0,sessionid:!0,tags:!0};f["default"]=a}),66);
__d("PagesLoggerEventEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK:"click",CREATE:"create",DELETE:"delete",DRAG:"drag",HOVER:"hover",IMPRESSION:"impression",RECEIVE_REQUEST:"receive_request",RECEIVE_RESPONSE:"receive_response",SAVE:"save",SCROLL:"scroll",SEND_REQUEST:"send_request",SEND_RESPONSE:"send_response",UNSAVE:"unsave",UPDATE:"update"})}),null);
__d("PagesLogger",["PagesLoggerEventEnum","PagesTypedLogger"],(function(a,b,c,d,e,f){var g="extra_data_",h={log:function(a,c,d,e,f,h){e===void 0&&(e=null);f===void 0&&(f=[]);var i={},j=h||{};Object.keys(j||{}).forEach(function(a){var b=j[a];(b instanceof Array||b instanceof Object)&&(b=JSON.stringify(b));i[g+a]=b});new(b("PagesTypedLogger"))().setPageID(a).setEvent(c).setEventTarget(d).setEventLocation(e).setLogSource("pages_logger").setTags(f).updateExtraData(i).log()},registerLogOnClick:function(a,c,d,e,f,g){e===void 0&&(e=null),f===void 0&&(f=[]),g===void 0&&(g={}),a.addEventListener("click",function(){h.log(c,b("PagesLoggerEventEnum").CLICK,d,e,f,g)})}};e.exports=h}),null);